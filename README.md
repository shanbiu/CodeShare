# 项目难点和注意的点
- antd部分组件的接口和默认组件接口不一致,需要查阅文档(比如Textarea组件)
- tailwindcss的许多样式只包含部分数值,需要查阅文档
- 基于美观性,对所有页面都设置了主题切换.
- tags的选择与展示,需考虑tag数量,避免超出页面宽度,对于多出来的tags使用(+n)tag.
- 创建页面和修改页面的提交按钮进行了区分.
- 前后端交互需要使用vite-proxy,进行配置.
- markdown-it插件只支持部分功能,需要额外插件,本项目没有额外配置,部分按钮不可用.
- 自动生成密码功能进行封装,开始考虑使用uuid,后来发现uuid太长,所以使用随机数生成密码.
- 项目没有用户概念,所以对于加密组件的所有操作都会进行密码验证.
- 密码从路径获取,部分功能对密码修改,所以需要及时修改路由.
- 后端获取数据进行密码验证和过期时间验证.
- tags,分享按钮,编辑按钮,时间选择器,主题切换按钮,代码编辑器,代码预览等等组件进行了封装与复用.
- fatchData函数更新数据,实现组件复用.
- 创建时间,过期时间等数据需要进行格式化,否则后端无法识别.

# 前端 Markdown 页面功能结构

## 1. 创建代码页面（Create Snippet）
### 功能：
- 提供表单创建新的代码片段。
- 支持 Markdown 编辑及实时预览。
- 可设置公开/加密、标签、过期时间等。

### 模块：
- **Markdown 编辑器**：支持代码高亮和实时预览。
- **设置面板**：设置公开/加密状态、标签、过期时间等。
- **保存按钮**：提交代码片段，并根据加密状态要求输入密码。

---

## 2. 代码片段详情页面（Snippet Details）
### 功能：
- 显示代码片段的详细信息。
- 支持代码复制、分享、编辑、删除操作。

### 模块：
- **代码显示**：展示 Markdown 渲染结果及代码高亮。
- **操作按钮**：编辑、删除、分享按钮。
- **公开/加密状态**：加密代码需密码验证。

---

## 3. 编辑代码片段页面（Edit Snippet）
### 功能：
- 用于更新已有的代码片段，支持修改公开状态、标签、过期时间等。
- 保存按钮变为更新样式。

---

## 4. 列表页面（List Snippets）
### 功能：
- 查看公开代码片段，支持按标签、时间等条件过滤。
- 用户可修改代码片段的公开状态、密码、过期时间。

### 模块：
- **Code卡片**：显示基本信息和操作按钮。
- **过滤条件**：支持标签、时间范围筛选，提供搜索框。

---


# 后端接口文档

## 功能概述
- 获取、提交、删除、更新代码内容，更新公开状态和过期时间，下载代码压缩包。

---

## 1. 获取单个代码 (`GET /code/:id`)
- **请求参数**：`id`、`pw`（可选）。
- **返回**：代码数据（成功），错误信息（失败）。

---

## 2. 获取所有代码 (`GET /list`)
- **请求参数**：无。
- **返回**：所有代码数据。

---

## 3. 提交代码 (`POST /submit`)
- **请求参数**：包含代码详情，如 `title`, `snippets`, `tags`。
- **返回**：提交成功消息或错误信息。

---

## 4. 删除代码 (`DELETE /delete/:id`)
- **请求参数**：`id`、`pw`（可选）。
- **返回**：成功消息或错误信息（如密码错误、未找到）。

---

## 5. 更新代码内容 (`PUT /update/:id`)
- **请求参数**：`id` 和更新后的数据。
- **返回**：成功消息或错误信息。

---

## 6. 更新公开状态 (`PATCH /updatePublic/:id`)
- **请求参数**：`id`、`isPublic`、`password`（可选）。
- **返回**：成功消息或错误信息（如密码错误）。

---

## 7. 更新过期时间 (`PATCH /updateExpiration/:id`)
- **请求参数**：`id`、`expire_at`、`password`（可选）。
- **返回**：成功消息或错误信息（如密码错误、日期格式不合法）。

---

## 8. 下载代码压缩包 (`GET /download/:id`)
- **请求参数**：`id`、`pw`（可选）。
- **返回**：压缩包文件或错误信息（如密码错误、已过期、未找到）。

---

## 条件和限制
- **密码保护**：加密代码必须提供正确密码才能查看、删除或下载。
- **过期检查**：过期的代码禁止访问。
- **权限检查**：修改公开状态、删除时需验证密码。
